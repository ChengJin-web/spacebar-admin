import{_ as C,g as x}from"./UserDrawer.vue_vue_type_script_setup_true_name_UserDrawer_lang-92b62d28.js";import{u as F}from"./useHandleData-62701b82.js";import{_ as $}from"./index.vue_vue_type_script_setup_true_name_ProTable_lang-1c5d8a91.js";import{T as E}from"./index-7cb037df.js";import{I}from"./index-dd17fc4f.js";import{d as v,T as N,ab as g,i as n,Q as U,b as t,F as L,r as P,o as D,c as R,a as V,w as o,u as i,a0 as B,e as c,aQ as M,a1 as q,a2 as H,R as Q}from"./index-b07e14c3.js";import{g as S,c as A,f as G,d as K,h as j,i as z}from"./user-f0ef86df.js";import"./Imgs-b5af6817.js";import"./upload-306c8510.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./notData-2dc2117c.js";const J={class:"main-box"},O={class:"table-box"},W=v({name:"treeProTable"}),ue=v({...W,setup(X){N(()=>{w(),g({title:"æ¸©é¦¨æç¤º",message:"è¯¥é¡µé¢ ProTable æ•°æ®ä¸ä¼šè‡ªåŠ¨è¯·æ±‚ï¼Œéœ€ç­‰å¾… treeFilter æ•°æ®è¯·æ±‚å®Œæˆä¹‹åŽï¼Œæ‰ä¼šè§¦å‘è¡¨æ ¼è¯·æ±‚ã€‚",type:"info",duration:1e4}),setTimeout(()=>{g({title:"æ¸©é¦¨æç¤º",message:"è¯¥é¡µé¢ ProTable æ€§åˆ«æœç´¢æ¡†ä¸ºè¿œç¨‹æ•°æ®æœç´¢ï¼Œè¯¦æƒ…å¯æŸ¥çœ‹ä»£ç ã€‚",type:"info",duration:1e4})},0)});const u=n(),d=U({departmentId:""}),p=n([]),w=async()=>{const{data:e}=await S();p.value=e,d.departmentId=p.value[1].id},T=e=>{Q.success("è¯·æ³¨æ„æŸ¥çœ‹è¯·æ±‚å‚æ•°å˜åŒ– ðŸ¤”"),u.value.pageable.pageNum=1,d.departmentId=e},m=n(!1),f=n([]),y=e=>{f.value.length=0,e&&(m.value=!0,setTimeout(()=>{m.value=!1,f.value.push(...x.filter(a=>a.label.includes(e)))},500))},h=[{type:"index",label:"#",width:80},{prop:"username",label:"ç”¨æˆ·å§“å"},{prop:"gender",label:"æ€§åˆ«",sortable:!0,isFilterEnum:!1,enum:f.value,search:{el:"select",props:{placeholder:"è¯·è¾“å…¥æ€§åˆ«æŸ¥è¯¢",filterable:!0,remote:!0,reserveKeyword:!0,loading:m,remoteMethod:y}},render:e=>t(L,null,[e.row.gender===1?"ç”·":"å¥³"])},{prop:"idCard",label:"èº«ä»½è¯å·"},{prop:"email",label:"é‚®ç®±"},{prop:"address",label:"å±…ä½åœ°å€"},{prop:"status",label:"ç”¨æˆ·çŠ¶æ€",sortable:!0,tag:!0,enum:A,search:{el:"tree-select"},fieldNames:{label:"userLabel",value:"userStatus"}},{prop:"createTime",label:"åˆ›å»ºæ—¶é—´",width:180},{prop:"operation",label:"æ“ä½œ",width:300,fixed:"right"}],k=async e=>{var a;await F(K,{id:[e.id]},`åˆ é™¤ã€${e.username}ã€‘ç”¨æˆ·`),(a=u.value)==null||a.getTableList()},b=n(null),_=(e,a={})=>{var r,s;const l={title:e,row:{...a},isView:e==="æŸ¥çœ‹",api:e==="æ–°å¢ž"?j:e==="ç¼–è¾‘"?z:void 0,getTableList:(r=u.value)==null?void 0:r.getTableList};(s=b.value)==null||s.acceptParams(l)};return(e,a)=>{const l=P("el-button");return D(),R("div",J,[t(E,{label:"name",title:"éƒ¨é—¨åˆ—è¡¨(å•é€‰)",data:p.value,"default-value":d.departmentId,onChange:T},null,8,["data","default-value"]),V("div",O,[t($,{ref_key:"proTable",ref:u,title:"ç”¨æˆ·åˆ—è¡¨","row-key":"id",indent:20,columns:h,"request-api":i(G),"request-auto":!1,"init-param":d,"search-col":{xs:1,sm:1,md:2,lg:3,xl:3}},{tableHeader:o(()=>[t(l,{type:"primary",icon:i(B),onClick:a[0]||(a[0]=r=>_("æ–°å¢ž"))},{default:o(()=>[c(" æ–°å¢žç”¨æˆ· ")]),_:1},8,["icon"])]),operation:o(r=>[t(l,{type:"primary",link:"",icon:i(M),onClick:s=>_("æŸ¥çœ‹",r.row)},{default:o(()=>[c(" æŸ¥çœ‹ ")]),_:2},1032,["icon","onClick"]),t(l,{type:"primary",link:"",icon:i(q),onClick:s=>_("ç¼–è¾‘",r.row)},{default:o(()=>[c(" ç¼–è¾‘ ")]),_:2},1032,["icon","onClick"]),t(l,{type:"primary",link:"",icon:i(H),onClick:s=>k(r.row)},{default:o(()=>[c(" åˆ é™¤ ")]),_:2},1032,["icon","onClick"])]),_:1},8,["request-api","init-param"]),t(C,{ref_key:"drawerRef",ref:b},null,512),t(I,{ref:"dialogRef"},null,512)])])}}});export{ue as default};
